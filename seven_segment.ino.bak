/*
Seven Segment Display Demo 
Author: Vincent Stevenson 
Goal: show how to write a function in C++ that can light up a 7 segment display with a digit from 0-9. 

Note I am using 220 ohm resistors (1 for each of the 7 segments)
Digit : Segments On
1: b,c
2: a,b,g,e
3: a,b,g,c,d
4: f,g,b,c
5: a,f,g,c,d
6: f,e,g,c,d
7: a,b,c
8: a,b,c,d,e,f,g
9: a,b,c,f,g
0: a,b,c,d,e,f
// above can be another map data struct in C++!
*/

// define which pins correspond to which of the seven segments: a - g
int a = 4;
int b = 5;
int c = 6;
int d = 7;
int e = 8;
int f = 9;
int g = 10;


// the setup function runs once when you press reset or power the board
void setup() {
  Serial.begin(9600); // send + receive serial monitor at 9600 baud rate 
  // note if you don't have the above line, you won't see anything in serial monitor!
  pinMode(a, OUTPUT);
  pinMode(b, OUTPUT);
  pinMode(c, OUTPUT);
  pinMode(d, OUTPUT);
  pinMode(e, OUTPUT);
  pinMode(f, OUTPUT);
  pinMode(g, OUTPUT);
}

// write method that takes an int as an input and turns on the appropriate segs as needed to display the int

void blink_all_segs(int *segs) {
  turn_off_all_segs(segs);  
  delay(1000);                      
  turn_on_all_segs(segs);  
  delay(1000);                       
}

void turn_off_all_segs(int *segs) {
  // this method takes the segs array and turns off all segs
  Serial.println("Turning off all segments...");
  for (byte i = 0; i < sizeof(segs)/sizeof(int); i++) {
    digitalWrite(segs[i], LOW); // turn off the seg
  }
}

void turn_on_all_segs(int *segs) {
  // this method takes the segs array and turns off all segs
  Serial.print("Turning on all segments...");
  for (byte i = 0; i < sizeof(segs)/sizeof(int); i++) {
    Serial.print(i);
    digitalWrite(segs[i], HIGH); // turn on the seg
  }
  Serial.println();
}

// the loop function runs over and over again forever
void loop() {
  Serial.println("testing!");
//  blink_seg(A);
  int segs[7] = {a,b,c,d,e,f,g};
  // call method to turn off all the lights
  blink_all_segs(segs);
}